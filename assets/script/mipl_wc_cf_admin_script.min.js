const{__:__}=wp.i18n;jQuery(document).ready((function(){var e=localStorage.getItem("mipl_wc_default_cf_last_active_tab");function _(e){return e=e.replaceAll("#",""),jQuery("#"+e).length<=0||(jQuery(".mipl_wc_default_checkout_fields_tabs li").removeClass("mipl_wc_active_tab"),jQuery(".mipl_wc_default_checkout_fields_tabs li a[href=#"+e+"]").parent("li").addClass("mipl_wc_active_tab"),jQuery(".mipl_wc_cf_default_checkout_fields_wrapper .mipl_wc_default_cf_tab_content").hide(0),jQuery(".mipl_wc_cf_default_checkout_fields_wrapper .mipl_wc_default_cf_tab_content#"+e).show(0),localStorage.setItem("mipl_wc_default_cf_last_active_tab",e)),!1}null==e&&(e="#billing-fields"),_(e),jQuery(".mipl_wc_default_checkout_fields_tabs li a").click((function(){return _(jQuery(this).attr("href"))}))})),jQuery(".mipl_wc_cf_ck_fields .sortable").sortable({handle:".mipl_handle",containment:".mipl_wc_cf_default_checkout_fields_wrapper,.mipl_wc_cf_custom_field_table",start:function(e,_){jQuery(this).attr("data-previndex",_.item.index())},update:function(e,_){var i=_.item.index(),l=(jQuery(this).attr("data-previndex"),jQuery(this).find(".file_type"));jQuery(l).each((function(e,_){var i="mipl_wc_custom_field[file_type]["+e+"][]";jQuery(_).attr("name",i)})),jQuery(this).removeAttr("data-previndex"),jQuery(this).children("li").each((function(e,_){jQuery(this).find("input.priority").val(10*(i+1)),i+=1}))}}),jQuery(document).ready((function(){jQuery(".mipl_wc_cf_checkout_default_billing_field_table").on("click",".edit_default_field,.mipl_wc_cf_close_default_field_button",(function(){return jQuery(this).parents(".mipl_wc_cf_checkout_default_billing_field_table_row").find(".mipl_wc_default_field_field_edit_form").slideToggle(500),!1})),jQuery(".mipl_wc_cf_checkout_default_billing_field_table_row").on("change",".mipl_wc_default_field_field_edit_form",(function(){jQuery(this).find(".mipl_changed_input").val(1)})),jQuery(".mipl_wc_default_field_field_edit_form").on("click",".mipl_wc_ck_required_field",(function(){var e=jQuery(this).prop("checked");jQuery(this).parents(".mipl_wc_default_field_field_edit_form").find(".hidden_required_field").val(e)})),jQuery(".mipl_wc_default_field_field_edit_form").on("click",".mipl_wc_ck_hiddden_field",(function(){var e=jQuery(this).prop("checked");jQuery(this).parents(".mipl_wc_default_field_field_edit_form").find(".hide_field").val(e)})),jQuery(".mipl_wc_reset_default_fields").on("click",(function(){var e=__("Are you sure to reset fields?");if(confirm(e)){var _=jQuery(this).closest("form").serializeArray();jQuery.post("?mipl_action=mipl_reset_default_fields",_,(function(e){response=JSON.parse(e),"success"==response.status&&location.reload(!0)}))}}))})),jQuery(".mipl_wc_add_field_button").on("click",(function(){var e=jQuery("#mipl_wc_add_custom_fields_form").text(),_=jQuery(".mipl_add_custom_fields .mipl_wc_cf_custom_field_table_row:last-child").find(".mipl_wc_ck_required_field").attr("data-index");_=_?parseInt(_)+1:0,jQuery(".mipl_add_custom_fields").append(e),$name="mipl_wc_custom_field[required_field]["+_+"]",$file_type="mipl_wc_custom_field[file_type]["+_+"][]",jQuery(".mipl_add_custom_fields .mipl_wc_cf_custom_field_table_row:last-child .mipl_wc_ck_required_field").attr("name",$name),jQuery(".mipl_add_custom_fields .mipl_wc_cf_custom_field_table_row:last-child .mipl_wc_ck_required_field").attr("data-index",_),jQuery(".mipl_add_custom_fields .mipl_wc_cf_custom_field_table_row:last-child .file_type").attr("name",$file_type),jQuery(".mipl_add_custom_fields .mipl_wc_cf_custom_field_table_row:last-child .file_type").attr("data-index",_),jQuery(".mipl_wc_ck_select2").select2({placeholder:__("Select a content")})})),jQuery(".mipl_wc_cf_custom_field_table").on("click",".mipl_wc_edit_field,.mipl_done_field_group_button",(function(){return jQuery(this).parents(".mipl_wc_cf_custom_field_table_row").find(".mipl_custom_fields_form").slideToggle(500),!1})),jQuery(".mipl_wc_cf_custom_field_table").on("click",".mipl_wc_remove_field",(function(){var e=__("Are you sure you want to delete this?");if(!confirm(e))return!1;jQuery(this).parents(".mipl_wc_cf_custom_field_table_row").remove()})),jQuery(document).ready((function(){jQuery(".mipl_wc_ck_custom_field_type").each((function(e,_){var i=jQuery(this).closest(".mipl_custom_fields_form"),l=jQuery(this).closest(".mipl_wc_cf_custom_field_table_row");if(l.find(".mipl_cf_file_size_class").css("display","none"),l.find(".mipl_cf_file_type_class").css("display","none"),i.find(".mipl_recaptcha_position_note").css("display","none"),i.find(".mipl_wc_recaptcha_note").css("display","none"),"textarea"===_.value||"multicheckbox"===_.value)i.find(".mipl_cf_textarea_default_value").attr("name","mipl_wc_custom_field[default_value][]"),i.find(".mipl_custom_field_default_value").attr("name",""),i.find(".mipl_cf_textarea_default_class").css("display","block"),i.find(".mipl_cf_default_class").css("display","none"),"multicheckbox"===_.value&&(l.find("#mipl_cf_option_value").css("display","block"),i.find(".mipl_placeholder_checkbox").hide());else if("date"==_.value||"time"==_.value||"datetime-local"==_.value||"color"==_.value){switch(l.find(".mipl_custom_field_default_value").attr("type","text"),_.value){case"date":flatpickr(l.find(".mipl_custom_field_default_value"),{dateFormat:"Y-m-d"});break;case"time":flatpickr(l.find(".mipl_custom_field_default_value"),{noCalendar:!0,enableSeconds:!0,enableTime:!0,dateFormat:"H:i:S"});break;case"datetime-local":flatpickr(l.find(".mipl_custom_field_default_value"),{enableTime:!0,enableSeconds:!0,dateFormat:"Y-m-d H:i:S"})}l.find(".mipl_cf_default_class").css("display","block"),l.find(".mipl_cf_textarea_default_class").css("display","none"),l.find("#mipl_cf_option_value").css("display","none"),i.find(".mipl_placeholder_checkbox").hide(),"color"==_.value&&l.find(".edit_custom_field_default_value").attr("type","text").attr("data-coloris","")}else i.find(".edit_custom_field_default_value").attr("name","mipl_wc_custom_field[default_value][]"),i.find(".mipl_cf_textarea_default_value").attr("name",""),i.find(".mipl_cf_default_class").css("display","block"),i.find(".mipl_cf_textarea_default_class").css("display","none"),"recaptcha"==_.value&&(i.find(".mipl_placeholder_checkbox").hide(),i.find(".mipl_cf_default_class").css("display","none"),i.find(".mipl_wc_recaptcha_note").css("display","block"),i.find(".mipl_recaptcha_position_note").css("display","block"),i.find(".mipl_recaptcha_position_note").html('<span>NOTE:<br> 1) reCAPTCHA v2 will shown in these two position [woocommerce_review_order_before_submit, woocommerce_review_order_after_submit].<br>2)Only worked with "classic checkout". </span>')),"checkbox"==_.value&&i.find(".mipl_placeholder_checkbox").hide(),"radio"!=_.value&&"select"!=_.value||(l.find("#mipl_cf_option_value").css("display","block"),i.find(".mipl_placeholder_checkbox").hide(),i.find(".hidden_placeholder_checkbox").val("")),"file"==_.value&&(i.find(".mipl_cf_default_class").hide(),i.find(".mipl_placeholder_checkbox").hide(),l.find(".mipl_cf_file_size_class").css("display","block"),l.find(".mipl_cf_file_type_class").css("display","block"))}))})),jQuery(".mipl_wc_cf_custom_field_table").on("change",".mipl_wc_ck_custom_field_type",(function(){var e=jQuery(this).val(),_=jQuery(this).closest(".mipl_wc_cf_custom_field_table_row");if(_.find(".mipl_custom_field_default_value").val(""),_.find(".mipl_option_data").text(""),_.find(".mipl_cf_textarea_default_value").attr("name",""),_.find(".mipl_custom_field_default_value").attr("name","mipl_wc_custom_field[default_value][]"),_.find(".mipl_placeholder_checkbox").show(),_.find(".mipl_custom_field_default_value").removeAttr("data-coloris",""),_.find(".mipl_cf_textarea_default_value").val(""),_.find(".mipl_cf_file_size_class").css("display","none"),_.find(".mipl_cf_file_type_class").css("display","none"),_.find(".mipl_recaptcha_position_note").css("display","none"),_.find(".mipl_wc_recaptcha_note").css("display","none"),_.find(".mipl_custom_field_default_value").hasClass("flatpickr-input")&&_.find(".mipl_custom_field_default_value")[0]._flatpickr.destroy(),"multicheckbox"==e)_.find(".mipl_custom_field_default_value").attr("name",""),_.find(".mipl_cf_textarea_default_value").attr("name","mipl_wc_custom_field[default_value][]"),_.find(".mipl_cf_default_class").css("display","none"),_.find(".mipl_cf_textarea_default_class").css("display","block"),_.find("#mipl_cf_option_value").css("display","block"),_.find(".mipl_placeholder_checkbox").hide(),_.find(".mipl_placeholder_checkbox .hidden_placeholder_checkbox").val("no");else if("radio"==e||"select"==e)_.find(".mipl_cf_textarea_default_class").css("display","none"),_.find(".mipl_cf_default_class").css("display","block"),_.find("#mipl_cf_option_value").css("display","block"),_.find(".mipl_placeholder_checkbox").hide(),_.find(".mipl_placeholder_checkbox .hidden_placeholder_checkbox").val("no"),jQuery(this).parents(".mipl_custom_fields_form").find(".mipl_custom_field_default_value").attr("type","text");else if("textarea"==e)_.find(".mipl_cf_default_class").css("display","none"),_.find(".mipl_cf_textarea_default_class").css("display","block"),_.find(".mipl_cf_textarea_default_value").attr("name","mipl_wc_custom_field[default_value][]"),_.find(".mipl_custom_field_default_value").attr("name",""),_.find("#mipl_cf_option_value").css("display","none"),"select"==e&&(_.find("#mipl_cf_option_value").css("display","block"),_.find(".mipl_placeholder_checkbox").hide(),_.find(".mipl_placeholder_checkbox .hidden_placeholder_checkbox").val("no"));else if("date"==e||"time"==e||"datetime-local"==e){switch(_.find(".mipl_custom_field_default_value").attr("type","text"),e){case"date":flatpickr(_.find(".mipl_custom_field_default_value"),{dateFormat:"Y-m-d"});break;case"time":flatpickr(_.find(".mipl_custom_field_default_value"),{noCalendar:!0,enableSeconds:!0,enableTime:!0,dateFormat:"H:i:S"});break;case"datetime-local":flatpickr(_.find(".mipl_custom_field_default_value"),{enableTime:!0,enableSeconds:!0,dateFormat:"Y-m-d H:i:S"})}_.find(".mipl_cf_default_class").css("display","block"),jQuery(this).parents(".mipl_custom_fields_form").find(".mipl_custom_field_default_value").attr("type","text"),_.find(".mipl_cf_textarea_default_class").css("display","none"),_.find("#mipl_cf_option_value").css("display","none"),_.find(".mipl_placeholder_checkbox").hide(),_.find(".mipl_placeholder_checkbox .hidden_placeholder_checkbox").val("no")}else"color"==e?(_.find(".mipl_cf_default_class").css("display","block"),jQuery(this).parents(".mipl_custom_fields_form").find(".mipl_custom_field_default_value").attr("type","text").attr("data-coloris",""),_.find(".mipl_cf_textarea_default_class").css("display","none"),_.find("#mipl_cf_option_value").css("display","none"),_.find(".mipl_placeholder_checkbox").hide(),_.find(".mipl_placeholder_checkbox .hidden_placeholder_checkbox").val("no")):(_.find(".mipl_cf_default_class").css("display","block"),jQuery(this).parents(".mipl_custom_fields_form").find(".mipl_custom_field_default_value").attr("type","text"),_.find(".mipl_cf_textarea_default_class").css("display","none"),_.find("#mipl_cf_option_value").css("display","none"),"recaptcha"==e&&(_.find(".mipl_cf_default_class").css("display","none"),_.find(".mipl_placeholder_checkbox").hide(),_.find(".mipl_placeholder_checkbox .hidden_placeholder_checkbox").val("no"),_.find(".mipl_wc_recaptcha_note").css("display","block"),_.find(".mipl_recaptcha_position_note").css("display","block"),_.find(".mipl_recaptcha_position_note").html('<span>NOTE:<br> 1) reCAPTCHA v2 will shown in these two position [woocommerce_review_order_before_submit, woocommerce_review_order_after_submit].<br>2)Only worked with "classic checkout".</span>')),"checkbox"==e&&(_.find(".mipl_placeholder_checkbox").hide(),_.find(".mipl_placeholder_checkbox .hidden_placeholder_checkbox").val("no")),"file"==e&&(_.find(".mipl_cf_default_class").hide(),_.find(".mipl_placeholder_checkbox").hide(),_.find(".mipl_placeholder_checkbox .hidden_placeholder_checkbox").val("no"),_.find(".mipl_cf_file_size_class").css("display","block"),_.find(".mipl_cf_file_type_class").css("display","block")))})),jQuery(".mipl_wc_ck_custom_field_name").bind("change blur keyup mouseup",(function(){var e=jQuery(this).val();jQuery(this).parents(".mipl_wc_cf_custom_field_table_row").find(".tr_field_name").text(e)})),jQuery(".mipl_wc_cf_custom_field_table").on("change","input[name='mipl_wc_custom_field[default_value][]'],textarea[name='mipl_wc_custom_field[default_value][]']",(function(){var e=jQuery(this).val();jQuery(this).parents(".mipl_wc_cf_custom_field_table_row").find(".tr_default_value").text(e)})),jQuery(".mipl_wc_cf_custom_field_table").on("change","input[name='mipl_wc_custom_field[field_name][]']",(function(){var e=jQuery(this).val();jQuery(this).parents(".mipl_wc_cf_custom_field_table_row").find(".tr_field_name").text(e),jQuery(this).parents(".mipl_wc_cf_custom_field_add_form").find(".mipl_wc_ck_required_field").val(e)})),jQuery(".mipl_wc_cf_custom_field_table").on("change",".mipl_wc_ck_custom_field_type",(function(){var e=jQuery(this).val();e=e[0].toUpperCase()+e.slice(1),jQuery(this).parents(".mipl_wc_cf_custom_field_table_row").find(".tr_field_type").text(e)})),jQuery(".mipl_wc_cf_custom_field_table").on("change","input[name='mipl_wc_custom_field[field_label][]']",(function(){var e=jQuery(this).val(),_=e.replace(/[^A-Za-z 0-9_-]/gi,"").split(" ").join("_").toLowerCase(),i=jQuery(this).parents(".mipl_custom_fields_form").find("input[name='mipl_wc_custom_field[field_name][]']").val();jQuery(this).parents(".mipl_wc_cf_custom_field_table_row").find(".tr_field_label").text(e),""==i&&(jQuery(this).parents(".mipl_wc_cf_custom_field_table_row").find(".tr_field_name").text(_),jQuery(this).parents(".mipl_custom_fields_form").find(".mipl_wc_ck_custom_field_name").val(_)),jQuery(this).parents(".mipl_custom_fields_form").find(".mipl_wc_ck_required_field").val(_)})),jQuery("body").on("input",".mipl_wc_ck_custom_field_name",(function(){var e=jQuery(this).val();jQuery(this).parents(".mipl_wc_cf_custom_field_edit_form").find(".mipl_wc_ck_required_field").val(e)})),jQuery(".mipl_wc_cf_custom_field_table").on("click",".placeholder_checkbox",(function(){jQuery(this).parents(".mipl_custom_fields_form").find(".placeholder_checkbox").prop("checked")?jQuery(this).parents(".mipl_custom_fields_form").find(".placeholder_checkbox, .hidden_placeholder_checkbox").val("yes"):jQuery(this).parents(".mipl_custom_fields_form").find(".placeholder_checkbox, .hidden_placeholder_checkbox").val("no")})),jQuery(document).ready((function(){jQuery(".mipl_wc_ck_select2").select2({placeholder:__("Select a content")});var e="";jQuery(".mipl_wc_ck_field_groups_specilization").length>0&&("true"==(e=jQuery(".mipl_wc_ck_field_groups_specilization").val())?(jQuery(".order_item_specilization").show(),jQuery(".mipl_field_repeate").show()):(jQuery(".order_item_specilization").hide(),jQuery(".mipl_field_repeate").hide())),jQuery('select[name="_mipl_wc_cf_cart_field_position"]').on("click",(function(){var e=jQuery(this).val();(jQuery(".mipl_wc_cf_product_category").hide(),jQuery(".mipl_wc_cf_products").hide(),""!=e)?(jQuery(".mipl_wc_ck_field_groups_specilization").prop("checked",!0).val("true"),jQuery(".order_item_specilization").show(),jQuery(".mipl_field_repeate").show(),"particular_product"==jQuery("input[name=_mipl_wc_cf_order_item_specilization]:checked").val()&&(jQuery(".mipl_wc_cf_product_category").show(),jQuery(".mipl_wc_cf_products").show())):(jQuery(".mipl_wc_ck_field_groups_specilization").removeAttr("checked"),jQuery(".mipl_wc_ck_field_groups_specilization").val("false"),jQuery(".order_item_specilization").hide(),jQuery(".mipl_field_repeate").hide())}));var _="";jQuery(".mipl_wc_ck_field_groups_specilization").length>0&&(_=jQuery("input[name=_mipl_wc_cf_order_item_specilization]:checked").val()),"particular_product"==_&&"true"==e?(jQuery(".mipl_wc_cf_product_category").show(),jQuery(".mipl_wc_cf_products").show()):(jQuery(".mipl_wc_cf_product_category").hide(),jQuery(".mipl_wc_cf_products").hide())})),jQuery(".mipl_wc_cf_checkout_setting").on("change",".mipl_wc_ck_field_groups_specilization",(function(){var e=jQuery(this).prop("checked");e?(jQuery(this).val("true"),jQuery(".order_item_specilization").show(),jQuery(".mipl_field_repeate").show()):(jQuery(this).val("false"),jQuery(".order_item_specilization").hide(),jQuery(".mipl_field_repeate").hide()),"particular_product"==jQuery("input[name=_mipl_wc_cf_order_item_specilization]:checked").val()&&1==e?(jQuery(".mipl_wc_cf_product_category").show(),jQuery(".mipl_wc_cf_products").show()):(jQuery(".mipl_wc_cf_product_category").hide(),jQuery(".mipl_wc_cf_products").hide())})),jQuery(".mipl_wc_cf_checkout_setting").on("change","input[name=_mipl_wc_cf_order_item_specilization]",(function(){"particular_product"==jQuery(this).val()?(jQuery(".mipl_wc_cf_product_category").show(),jQuery(".mipl_wc_cf_products").show()):(jQuery(".mipl_wc_cf_product_category").hide(),jQuery(".mipl_wc_cf_products").hide())})),jQuery(document).ready((function(){if(jQuery(".mipl_wc_recaptcha_parent").length<1)return!1;function e(e){"reCAPTCHA_v3"==e?(jQuery(".mipl_wc_recaptcha_v3").show(),jQuery(".mipl_wc_recaptcha_v2").hide()):(jQuery(".mipl_wc_recaptcha_v2").show(),jQuery(".mipl_wc_recaptcha_v3").hide())}$recaptcha_type=jQuery(".mipl_wc_recaptcha_type").val(),e($recaptcha_type),jQuery(".mipl_wc_recaptcha_type").on("change",(function(){e(jQuery(this).val())}))})),jQuery(".mipl_wc_reset_setting_fields").on("click",(function(){var e=__("Are you sure you want to reset this?");if(confirm(e)){var _=jQuery(".mipl_wc_recaptcha_parent").closest("form").serializeArray();jQuery.post("?mipl_action=mipl_reset_recaptcha_fields",_,(function(e){response=JSON.parse(e),"success"==response.status&&location.reload(!0)}))}}));