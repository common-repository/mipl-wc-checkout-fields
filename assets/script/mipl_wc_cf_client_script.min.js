jQuery("body").on("checkout_error",function(e){var t=document.getElementsByClassName("mipl-wc-cf-recaptcha-v2"),c=document.getElementsByClassName("mipl-wc-cf-recaptcha-v3");t.length>0&&grecaptcha.reset(),c.length>0&&mipl_wc_cf_create_recaptcha_v3()}),jQuery("body").on("updated_checkout",function(){jQuery(".mipl-cf-select").length>0&&jQuery(".mipl-cf-select").select2(),jQuery(".mipl_wc_cf_form_field .select2").css("min-width","100%")}),jQuery(document).ready(function(){Coloris({el:".mipl_colorpicker"}),jQuery(".mipl_wc_cf_form_field .clr-field").unwrap(),jQuery(".mipl_wc_cf_form_field .clr-field").css("width","100%"),"undefined"!=typeof flatpickr&&(flatpickr(".mipl_date_picker",{dateFormat:"Y-m-d"}),flatpickr(".mipl_time_picker",{noCalendar:!0,enableTime:!0,enableSeconds:!0,dateFormat:"H:i:S"}),flatpickr(".mipl_datetime_picker",{enableTime:!0,enableSeconds:!0,dateFormat:"Y-m-d H:i:S"})),jQuery(".mipl-cf-select").length>0&&jQuery(".mipl-cf-select").select2({allowClear:!0})}),jQuery(window).on("load",function(){jQuery("body").on("change",".mipl_wc_file_field",function(){if($field_name=jQuery(this).attr("name"),$cf_name=jQuery(this).attr("data-name"),$file_nonce=jQuery(this).attr("data-nonce"),$file_type=jQuery(this).attr("accept"),void 0===($group_id=jQuery(this).attr("data-group"))&&($group_id=""),"undefined"==typeof $file_type&&($file_type=""),"undefined"==typeof $file_nonce&&($file_nonce=""),"undefined"==typeof $cf_name&&($cf_name=""),"undefined"==typeof $field_name&&($field_name=""),this.files.length){var e=this.files[0],t=new FormData;t.append("mipl_wc_form",e),t.append("cf_name",$cf_name),t.append("file_type",$file_type),t.append("file_nonce",$file_nonce),t.append("group_id",$group_id),jQuery('input[name="'+$field_name+'"]').parents(".mipl_wc_cf_form_field").find(".mipl_wc_file_error").text(""),jQuery.ajax({url:"?mipl_action=mipl_wc_form_upload",type:"post",data:t,contentType:!1,enctype:"multipart/form-data",processData:!1,success:function(e){var t=JSON.parse(e);"success"==t.status?jQuery('input[name="'+$field_name+'"]').parents(".mipl_wc_cf_form_field").find(".mipl_wc_hidden_forms_name").val(t.data):jQuery('input[name="'+$field_name+'"]').parents(".mipl_wc_cf_form_field").find(".mipl_wc_file_error").text(t.message)}})}})});var recaptcha_v2=document.getElementsByClassName("mipl-wc-cf-recaptcha-v2");if(recaptcha_v2.length>0)function mipl_wc_cf_load_recaptcha(){if(jQuery("#mipl-cf-recaptcha").length<1)return!1;setTimeout(()=>{grecaptcha.render(document.getElementById("mipl-cf-recaptcha"),{sitekey:jQuery("#mipl-cf-recaptcha").attr("data-sitekey")})},1e3)}var recaptcha_v3=document.getElementsByClassName("mipl-wc-cf-recaptcha-v3");if(recaptcha_v3.length>0){jQuery(document).ready(function(){grecaptcha.ready(function(){e()})});function e(){grecaptcha.execute(MIPL_WC_CF_RECAPTCHA_V3,{action:"submit"}).then(function(e){jQuery(".mipl-wc-cf-recaptcha").val(e)})}}function load_date_time_picker(){Coloris({el:".mipl_colorpicker"}),jQuery(".mipl_wc_cf_form_field .clr-field").unwrap(),jQuery(".mipl_wc_cf_form_field .clr-field").css("width","100%"),flatpickr(".mipl_date_picker",{dateFormat:"Y-m-d"}),flatpickr(".mipl_time_picker",{noCalendar:!0,enableTime:!0,enableSeconds:!0,dateFormat:"H:i:S"}),flatpickr(".mipl_datetime_picker",{enableTime:!0,enableSeconds:!0,dateFormat:"Y-m-d H:i:S"}),jQuery(".mipl-cf-select").length>0&&jQuery(".mipl-cf-select").select2({allowClear:!0})}jQuery(document).ready(function(){jQuery(".mipl_wc_file_field").on("change",function(){jQuery(this).parents(".mipl_wc_cf_form_field").find(".mipl_selected_file_data").remove()})}),jQuery(document).ready(function(){void 0===($min_qty=jQuery(".single-product.woocommerce-page form.cart .qty").attr("min"))&&!1==$min_qty&&($min_qty=1),0==jQuery(".mipl-validation-msg").length&&jQuery(".single-product.woocommerce-page form.cart .qty").val($min_qty),e(),jQuery(".single-product.woocommerce-page form.cart .qty").on("change",function(t){e()});function e(){if(jQuery(".single-product.woocommerce-page form.cart .qty").length<1)return!1;var e,t=jQuery(".single-product.woocommerce-page form.cart").serializeArray();t=(e=t).filter(function(e){return"add-to-cart"!=e.name}),jQuery.post("?mipl_action=mipl_get_fld_of_single_product_page",t,function(e){jQuery(".mipl-wc-single-product-page-field-group").html(e),load_date_time_picker()})}});